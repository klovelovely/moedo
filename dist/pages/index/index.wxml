<!--index.wxml-->
<view class="container">

  <view class="header">
    <text class="title">Moe Do</text>
    <view class="for">
      <image class="photo" src="{{userInfo.avatarUrl}}"></image>
      <text class="nickName">{{userInfo.nickName}}</text>
    </view>
  </view>

  <view class="section">
    <input bindinput="autoSave" bindfocus="inputFocus" bindconfirm="addTodo" maxlength="-1" value="{{todoTempInput}}" placeholder="éªšå¹´, æ¥æäº‹å‘€ ğŸ˜" focus confirm-hold />
  </view>

  <view class="section{{item.isDone ? ' done' : '' }}" wx:for="{{todoList}}" wx:if="{{isShowFinishedTodo || !item.isDone}}">
    <checkbox-group bindchange="todoItemChange" data-index="{{index}}">
      <view>
        <label class="checkbox">
          <checkbox value="{{index}}" checked="{{item.isDone}}" color="#ccc" />
          <text>{{item.title}}</text>
        </label>
      </view>
    </checkbox-group>
  </view>

  <view class="layout-fixed-bottom">
    <view class="section" wx:if="{{todoList.length > 0 && isSomeThingDone}}">
      <switch checked="{{isShowFinishedTodo}}" bindchange="isShowFinishedTodo" />
      <text>æ˜¾ç¤ºå·²å®Œæˆçš„ todo</text>
    </view>

    <view class="section" wx:if="{{todoList.length > 0 && isSomeThingDone}}">
      <button type="danger" bindtap="clearFinishedTodos">æ¸…é™¤å·²å®Œæˆçš„ todo</button>
    </view>
  </view>

</view>